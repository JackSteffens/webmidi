<div layout-margin>
    <h1>Select a MIDI device</h1>

    <midi-selector
            inputs="midiInputs"
            outputs="midiOutputs"
            selected-input="midiSelectedInput"
            selected-output="midiSelectedOutput"
            select-port="selectPort">
    </midi-selector>

    <div layout="column">
        <span>Selected output state: {{midiSelectedOutput.connection}}</span>
        <span>Selected input state: {{midiSelectedInput.connection}}</span>
        <span> Min key : {{minKey}}</span>
        <span> Max key : {{maxKey}}</span>
        <span> Last command: {{lastCommand}}</span>
    </div>

    <md-button
            ng-disabled="
            !midiSelectedOutput ||
            !midiSelectedInput ||
            (midiSelectedOutput && midiSelectedOutput.connection === 'closed') ||
            (midiSelectedInput && midiSelectedInput.connection === 'closed')"
            ui-sref="login"
            class="md-raised md-primary">
        Continue
    </md-button>

    <keyboard keyboard-model="keyboardModel"></keyboard>

    <md-button ng-click="resetKeys()">reset {{keys.length}} keys</md-button>
    <md-button ng-click="createVirtualKeyboard(21, 108)">Create virtual keyboard</md-button>
</div>